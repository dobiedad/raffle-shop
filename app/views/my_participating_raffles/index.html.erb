<%= render UI::RaffleListWithTabs.new(
  title: 'ðŸŽ« My Raffles',
  subtitle: "Manage your created raffles and track raffles you're participating in",
  user: current_user,
  current_user: current_user,
  raffles: @raffles,
  pagy: @pagy,
  tab_filter: 'participating',
  status_filter: @status_filter,
  tabs: [
    {
      name: 'created',
      label: 'Created by Me',
      icon: 'ðŸ“',
      path: my_created_raffles_path(status: @status_filter),
      active_path: my_created_raffles_path(status: 'active'),
      completed_path: my_created_raffles_path(status: 'completed')
    },
    {
      name: 'participating',
      label: 'Participating In',
      icon: 'ðŸŽŸï¸',
      path: my_participating_raffles_path(status: @status_filter),
      active_path: my_participating_raffles_path(status: 'active'),
      completed_path: my_participating_raffles_path(status: 'completed')
    }
  ]
) do %>
  <% if @status_filter == 'active' %>
    <%= render UI::EmptyState.new(
      icon: 'ðŸŽŸï¸',
      title: "You're not participating in any active raffles",
      description: 'Browse active raffles and buy tickets to get started',
      action: link_to("Browse Raffles", raffles_path, class: "button is-primary is-rounded").html_safe
    ) %>
  <% elsif @status_filter == 'completed' %>
    <%= render UI::EmptyState.new(
      icon: 'ðŸ',
      title: 'No completed raffles yet',
      description: "Raffles you participate in will show here once they're completed.",
      action: link_to("Browse Raffles", raffles_path, class: "button is-primary is-rounded").html_safe
    ) %>
  <% end %>
<% end %>
